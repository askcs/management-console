define(["services/services","config"],function(e,t){e.factory("UserCall",function(e,t,n,r,i,s,o,u,a,f){var l=n();return l.prototype.login=function(e,t){var n=r.defer();try{f._("login",{uuid:e.toLowerCase(),pass:o.createHash(t)}).then(function(e){e.error||u.set(e.data["X-SESSION_ID"]),n.resolve(e)})}catch(i){s.error("Something went wrong with login call: ",i)}return n.promise},l.prototype.logout=function(){var e=r.defer();try{f._("logout").then(function(t){u.clear(),e.resolve(t)})}catch(t){s.error("Something went wrong with logout call: ",t)}return e.promise},l.prototype.resources=function(){var t=r.defer();try{f._("resources").then(function(n){a("user").save("resources",n.data),e.app.resources=n.data,t.resolve(n)})}catch(n){console.log("Something went wrong with resources call "+n)}return t.promise},new l})});